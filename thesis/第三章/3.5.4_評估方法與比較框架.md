# 3.5.4 評估方法與比較框架

在 DRL 模型根據 `3.5.2` 節所述流程完成訓練後，為確保所有控制器在一個公平且無偏的基礎上進行比較，本研究設計了一套標準化的評估流程。此流程旨在模擬一個固定的、可重複的「測試日」場景，並通過一組預先定義的關鍵績效指標（KPIs）來量化各控制策略的表現。

### 1. 標準化評估流程

對於 `3.5.1` 節中定義的每一個實驗組（包括兩個基線控制器和四個已訓練的 DRL 控制器），我們將執行以下標準化評估程序：

1.  **模型加載**：對於 DRL 實驗組，加載其對應的最終訓練模型，並將其設定為純粹的**評估模式**（Inference Mode）。在此模式下，DQN 的 ε-greedy 探索將被關閉（ε=0），而 NERL 將固定使用其歷史上適應度最高的最佳個體進行決策。
2.  **環境重置**：初始化一個與訓練時相同，但使用一組**固定的、從未在訓練中出現過的隨機種子**的模擬環境。這確保了所有控制器面對的是完全相同的初始條件、相同的訂單序列與相同的隨機事件，從而消除了隨機性帶來的干擾。
3.  **執行評估**：在標準化的環境中，運行一次完整的、固定時長（例如 `T_{eval} = 50,000` ticks）的模擬。
4.  **數據記錄**：在模擬過程中，`PerformanceReportGenerator` 會以固定的時間間隔（例如每 10 ticks）記錄下所有關鍵效能指標的時間序列數據。
5.  **重複執行**：為消除單次運行中極端隨機事件的影響，並獲得更具統計意義的結果，上述步驟 2-4 將對每個實驗組**重複執行 `3` 次**，每一次都使用一組不同的、但各組共享的隨機種子。最終的效能將取這 `3` 次運行的平均值。

### 2. 效能比較框架

在 `3` 次重複評估運行完成後，我們將對每個實驗組的數據進行匯總和比較。比較框架將圍繞 `3.2.4` 節中定義的關鍵績效指標展開，這些指標可以歸為三大類：

**A. 核心效率指標**
這些指標直接反映了本研究最關心的系統效率。
- **總能量消耗 (`Total Energy Consumption`)**: 評估系統的能源使用效率，越低越好。
- **訂單完成總數 (`Completed Orders Count`)**: 衡量系統在固定時間內的總產出，越高越好。

**B. 流程品質指標**
這些指標從側面反映了系統運作的流暢度與服務品質。
- **平均訂單處理時間 (`Average Order Processing Time`)**: 衡量系統的響應速度，越低越好。
- **平均交叉口等待時間 (`Average Intersection Waiting Time`)**: 直接衡量交通控制策略的有效性，越低越好。
- **總停止-啟動次數 (`Total Stop-and-Go`)**: 反映交通流的平順性，越低越好。

**C. 資源利用指標**
- **平均機器人利用率 (`Average Robot Utilization`)**: 反映了在達成產出的過程中，對機器人資源的利用程度。

最終，所有實驗組的平均 KPI 數據將被整理成一個綜合效能比較表，以便於在下一章節中進行深入的分析與討論。此外，所收集的時間序列數據也將被繪製成圖表，以直觀地展示不同策略在模擬過程中的動態行為差異。 