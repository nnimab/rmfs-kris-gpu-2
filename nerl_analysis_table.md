# NERL 訓練數據分析表格

## 2025-07-19_000327_nerl_step (Step 獎勵模式)

| 世代 | Best Fitness | Completion Rate | Signal Switch Count | Avg Wait Time | 適應度標準差 |
|------|-------------|-----------------|---------------------|---------------|-------------|
| Gen001 | -51.625 | 0.02 (1/50) | 0 | 30.05 | 470,710,059.51 |
| Gen002 | -55.402 | 0.10 (5/50) | 0 | 30.85 | 10.36 |
| Gen003 | -48.240 | 0.10 (5/50) | 0 | 29.67 | 375,375,365.34 |
| Gen004 | -55.985 | 0.02 (1/50) | 0 | 29.76 | 375,375,367.70 |
| Gen005 | -43.450 | 0.08 (4/50) | 0 | 31.00 | 375,375,364.97 |
| Gen006 | -48.495 | 0.06 (3/50) | 0 | 30.72 | 11.63 |
| Gen007 | -47.775 | 0.02 (1/50) | 0 | 29.81 | 12.39 |
| Gen008 | -50.320 | 0.08 (4/50) | 0 | 31.00 | 13.38 |

### Step 模式關鍵觀察：
- Best Fitness 在 -43.450 到 -55.985 之間波動
- Completion Rate 普遍較低（0.02-0.10）
- Signal Switch Count 全部為 0（控制器從未切換信號）
- Avg Wait Time 穩定在 29.67-31.00 之間
- 標準差在前期世代極大（存在 -1000000000.0 的懲罰值），後期趨於穩定

## 2025-07-18_220304_nerl_global (Global 獎勵模式)

| 世代 | Best Fitness | Completion Rate | Signal Switch Count | Avg Wait Time | 適應度標準差 |
|------|-------------|-----------------|---------------------|---------------|-------------|
| Gen001 | 1.0135 | 0.12 (6/50) | 0 | 30.45 | 0.3674 |
| Gen002 | 1.1183 | 0.12 (6/50) | 0 | 30.33 | 0.3903 |
| Gen003 | 1.2929 | 0.14 (7/50) | 0 | 29.88 | 0.3509 |
| Gen004 | 1.2410 | 0.16 (8/50) | 0 | 31.00 | 0.4290 |

### Global 模式關鍵觀察：
- Best Fitness 為正值且逐步提升（1.0135 → 1.2929）
- Completion Rate 持續改善（0.12 → 0.16）
- Signal Switch Count 同樣全部為 0
- Avg Wait Time 在 29.88-31.00 之間
- 適應度標準差穩定在 0.35-0.43 之間

## 綜合分析

### 主要發現：
1. **獎勵模式差異**：
   - Step 模式產生負值適應度（懲罰導向）
   - Global 模式產生正值適應度（獎勵導向）

2. **Signal Switch 問題**：
   - 兩種模式下，控制器都沒有學會切換信號（count = 0）
   - 這表示控制器可能陷入局部最優：維持初始狀態

3. **性能改善**：
   - Global 模式展現持續改善趨勢
   - Step 模式波動較大，缺乏穩定的改善方向

4. **種群多樣性**：
   - Step 模式早期存在大量失敗個體（-1000000000.0）
   - Global 模式種群表現較為一致

### 建議：
1. 檢查動作選擇機制，確保控制器能夠探索切換信號的策略
2. 考慮調整獎勵函數，鼓勵適度的信號切換
3. 增加探索機制（如 ε-greedy 或噪聲注入）
4. 檢查神經網路初始化，確保有足夠的隨機性